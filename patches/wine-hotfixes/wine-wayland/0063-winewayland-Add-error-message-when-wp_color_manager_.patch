From e3a113eb1d28a2aa6bf86ec82d6ddea77b0230ae Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty
 <45927311+Etaash-mathamsetty@users.noreply.github.com>
Date: Sun, 25 May 2025 22:22:17 -0400
Subject: [PATCH 063/336] winewayland: Add error message when
 wp_color_manager_v1 is missing.

---
 dlls/winewayland.drv/wayland.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/dlls/winewayland.drv/wayland.c b/dlls/winewayland.drv/wayland.c
index deb50a55af1..fd458d7284b 100644
--- a/dlls/winewayland.drv/wayland.c
+++ b/dlls/winewayland.drv/wayland.c
@@ -340,6 +340,9 @@ BOOL wayland_process_init(void)
     if (!process_wayland.wp_fractional_scale_manager_v1)
         ERR("Wayland compositor doesn't support wp_fractional_scale_manager_v1 (fractional scaling will be broken)\n");
 
+    if (!process_wayland.wp_color_manager_v1)
+        ERR("Wayland compositor doesn't support wp_color_manager_v1 (HDR will not be supported)\n");
+
     process_wayland.initialized = TRUE;
 
     return TRUE;
-- 
2.51.0


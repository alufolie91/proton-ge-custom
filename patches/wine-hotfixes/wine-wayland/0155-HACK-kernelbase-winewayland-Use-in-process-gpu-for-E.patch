From 203627bab10413493ac4e294e840525b17dcca0c Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty <etaash.mathamsetty@gmail.com>
Date: Thu, 17 Jul 2025 09:50:37 -0400
Subject: [PATCH 155/423] HACK: kernelbase: winewayland: Use --in-process-gpu
 for EA App.

---
 dlls/kernelbase/process.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/dlls/kernelbase/process.c b/dlls/kernelbase/process.c
index 0b82a2450d9..412eb87b7e8 100644
--- a/dlls/kernelbase/process.c
+++ b/dlls/kernelbase/process.c
@@ -625,7 +625,8 @@ static const WCHAR *hack_append_command_line( const WCHAR *cmd )
     static const struct option wayland_options[] = {
         {L"launcher_epic.exe", L" --in-process-gpu"}, /* ZZZ EGS */
         {L"Battle.net.exe", L" --in-process-gpu"},
-        {L"RSI Launcher.exe", L" --in-process-gpu"}
+        {L"RSI Launcher.exe", L" --in-process-gpu"},
+        {L"EADesktop.exe", L" --in-process-gpu"}
     };
 
     unsigned int i;
@@ -638,7 +639,7 @@ static const WCHAR *hack_append_command_line( const WCHAR *cmd )
     GetEnvironmentVariableA("WINE_WAYLAND_HACKS",
         wayland_hack_enabled, sizeof(wayland_hack_enabled));
 
-    if (wayland_hack_enabled[0] == '1')
+    if (strcmp(wayland_hack_enabled, "1") == 0)
     {
         for (i = 0; i < ARRAY_SIZE(wayland_options); ++i)
         {
-- 
2.52.0


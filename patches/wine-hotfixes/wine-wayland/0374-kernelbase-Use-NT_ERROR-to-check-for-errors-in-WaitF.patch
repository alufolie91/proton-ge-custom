From a004610e5a2e77f9efb2c8f1a9f445011a3fc204 Mon Sep 17 00:00:00 2001
From: Marc-Aurel Zent <mzent@codeweavers.com>
Date: Thu, 30 Oct 2025 21:42:58 +0100
Subject: [PATCH 374/409] kernelbase: Use NT_ERROR() to check for errors in
 WaitForMultipleObjectsEx.

---
 dlls/kernelbase/sync.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/dlls/kernelbase/sync.c b/dlls/kernelbase/sync.c
index d836c1e008d..401b9fa055c 100644
--- a/dlls/kernelbase/sync.c
+++ b/dlls/kernelbase/sync.c
@@ -442,7 +442,7 @@ DWORD WINAPI DECLSPEC_HOTPATCH WaitForMultipleObjectsEx( DWORD count, const HAND
 
     status = NtWaitForMultipleObjects( count, hloc, !wait_all, alertable,
                                        get_nt_timeout( &time, timeout ) );
-    if (HIWORD(status))  /* is it an error code? */
+    if (NT_ERROR(status))
     {
         SetLastError( RtlNtStatusToDosError(status) );
         status = WAIT_FAILED;
-- 
2.51.1


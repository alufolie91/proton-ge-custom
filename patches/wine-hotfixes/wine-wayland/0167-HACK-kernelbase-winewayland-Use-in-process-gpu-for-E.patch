From faebb0390d605ddc21cfaf340a053dcb3bb86b71 Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty <etaash.mathamsetty@gmail.com>
Date: Thu, 17 Jul 2025 09:50:37 -0400
Subject: [PATCH 167/347] HACK: kernelbase: winewayland: Use --in-process-gpu
 for EA App.

---
 dlls/kernelbase/process.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/dlls/kernelbase/process.c b/dlls/kernelbase/process.c
index e385e90d174..cd0957f5c08 100644
--- a/dlls/kernelbase/process.c
+++ b/dlls/kernelbase/process.c
@@ -626,7 +626,8 @@ static const WCHAR *hack_append_command_line( const WCHAR *cmd )
     static const struct option wayland_options[] = {
         {L"launcher_epic.exe", L" --in-process-gpu"}, /* ZZZ EGS */
         {L"Battle.net.exe", L" --in-process-gpu"},
-        {L"RSI Launcher.exe", L" --in-process-gpu"}
+        {L"RSI Launcher.exe", L" --in-process-gpu"},
+        {L"EADesktop.exe", L" --in-process-gpu"}
     };
 
     unsigned int i;
@@ -639,7 +640,7 @@ static const WCHAR *hack_append_command_line( const WCHAR *cmd )
     GetEnvironmentVariableA("WINE_WAYLAND_HACKS",
         wayland_hack_enabled, sizeof(wayland_hack_enabled));
 
-    if (wayland_hack_enabled[0] == '1')
+    if (strcmp(wayland_hack_enabled, "1") == 0)
     {
         for (i = 0; i < ARRAY_SIZE(wayland_options); ++i)
         {
-- 
2.51.0


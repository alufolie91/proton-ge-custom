From b6627127a09eb026358bd6e25d66a25e0b871e3f Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ignacy=20Kuchci=C5=84ski?= <ignacykuchcinski@gmail.com>
Date: Thu, 19 Jun 2025 19:31:04 +0200
Subject: [PATCH 271/336] user32: Add GetPointerPenInfo stub.

Wine-Bug: https://bugs.winehq.org/show_bug.cgi?id=57489
---
 dlls/user32/input.c     | 7 +++++++
 dlls/user32/user32.spec | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

diff --git a/dlls/user32/input.c b/dlls/user32/input.c
index 8d079a0794d..88eaed28404 100644
--- a/dlls/user32/input.c
+++ b/dlls/user32/input.c
@@ -830,6 +830,13 @@ BOOL WINAPI SetGestureConfig( HWND hwnd, DWORD reserved, UINT count,
     return FALSE;
 }
 
+BOOL WINAPI GetPointerPenInfo( UINT32 id, POINTER_PEN_INFO *info )
+{
+    FIXME( "id %u, info %p stub!\n", id, info );
+    SetLastError( ERROR_CALL_NOT_IMPLEMENTED );
+    return FALSE;
+}
+
 BOOL WINAPI GetPointerTouchInfo( UINT32 id, POINTER_TOUCH_INFO *info )
 {
     FIXME( "id %u, info %p stub!\n", id, info );
diff --git a/dlls/user32/user32.spec b/dlls/user32/user32.spec
index 82c244aa1b1..eeecc881e24 100644
--- a/dlls/user32/user32.spec
+++ b/dlls/user32/user32.spec
@@ -642,7 +642,7 @@
 @ stdcall GetPointerInfo(long ptr)
 # @ stub GetPointerInfoHistory
 # @ stub GetPointerInputTransform
-# @ stub GetPointerPenInfo
+@ stdcall GetPointerPenInfo(long ptr)
 # @ stub GetPointerPenInfoHistory
 @ stdcall GetPointerTouchInfo(long ptr)
 @ stdcall GetPointerTouchInfoHistory(long ptr ptr)
-- 
2.51.0


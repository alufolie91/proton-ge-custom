From ea0ece1d100288a22354b5e1649d7e93a08e0e64 Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty
 <45927311+Etaash-mathamsetty@users.noreply.github.com>
Date: Sun, 21 Sep 2025 14:50:26 -0500
Subject: [PATCH 312/377] winewayland: Reset the requested output when
 unsetting fullscreen.

---
 dlls/winewayland.drv/window.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/dlls/winewayland.drv/window.c b/dlls/winewayland.drv/window.c
index def441f354f..cd570668b0e 100644
--- a/dlls/winewayland.drv/window.c
+++ b/dlls/winewayland.drv/window.c
@@ -268,6 +268,7 @@ static void wayland_surface_update_state_toplevel(struct wayland_surface *surfac
             (surface->current.state & WAYLAND_SURFACE_CONFIG_STATE_FULLSCREEN))
         {
             xdg_toplevel_unset_fullscreen(surface->xdg_toplevel);
+            surface->requested_output = NULL;
         }
 
         if ((surface->window.state & WAYLAND_SURFACE_CONFIG_STATE_MAXIMIZED) &&
-- 
2.51.0


From 20a33bce21507f79585891fc493f9bb9491396ac Mon Sep 17 00:00:00 2001
From: Billy Laws <blaws05@gmail.com>
Date: Fri, 7 Feb 2025 19:35:46 +0000
Subject: [PATCH 235/327] ntdll: Allow mem{cpy,move} optimisation now
 -fno-builtins is used.

---
 dlls/ntdll/string.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/dlls/ntdll/string.c b/dlls/ntdll/string.c
index 46fb80a3a69..eea31a02dcc 100644
--- a/dlls/ntdll/string.c
+++ b/dlls/ntdll/string.c
@@ -103,7 +103,7 @@ int __cdecl memcmp( const void *ptr1, const void *ptr2, size_t n )
  */
 void * __cdecl memcpy( void *dst, const void *src, size_t n )
 {
-    volatile unsigned char *d = dst;  /* avoid gcc optimizations */
+    unsigned char *d = dst;
     const unsigned char *s = src;
 
     if ((size_t)dst - (size_t)src >= n)
@@ -125,7 +125,7 @@ void * __cdecl memcpy( void *dst, const void *src, size_t n )
  */
 void * __cdecl memmove( void *dst, const void *src, size_t n )
 {
-    volatile unsigned char *d = dst;  /* avoid gcc optimizations */
+    unsigned char *d = dst;
     const unsigned char *s = src;
 
     if ((size_t)dst - (size_t)src >= n)
-- 
2.51.0


From f899c40e2aa66b9bb4710c538415f570141e759d Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty
 <45927311+Etaash-mathamsetty@users.noreply.github.com>
Date: Fri, 28 Nov 2025 15:08:37 -0500
Subject: [PATCH 403/423] fixup! win32u: Pass appropriate thread id for
 KEYEVENTF_SCANCODE.

---
 dlls/win32u/message.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/dlls/win32u/message.c b/dlls/win32u/message.c
index 273054de679..559a37f36b8 100644
--- a/dlls/win32u/message.c
+++ b/dlls/win32u/message.c
@@ -3787,7 +3787,7 @@ NTSTATUS send_hardware_message( HWND hwnd, UINT flags, const INPUT *input, LPARA
             if (input->ki.dwFlags & KEYEVENTF_SCANCODE)
             {
                 UINT scan = input->ki.wScan;
-                HKL layout = NtUserGetKeyboardLayout(NtUserGetWindowThread( hwnd, NULL ));
+                HKL layout = NtUserGetKeyboardLayout(get_window_thread( hwnd, NULL ));
                 if (flags & SEND_HWMSG_INJECTED)
                 {
                     scan = scan & 0xff;
-- 
2.52.0


From c8da9f5bfeff77531d216cd3e83d73c15b993a32 Mon Sep 17 00:00:00 2001
From: Etaash Mathamsetty
 <45927311+Etaash-mathamsetty@users.noreply.github.com>
Date: Sat, 13 Dec 2025 14:41:14 -0600
Subject: [PATCH 414/414] HACK: win32u: Avoid divide by 0 when querying monitor
 dpi.

---
 dlls/win32u/window.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/dlls/win32u/window.c b/dlls/win32u/window.c
index 994ff7a78ff..90c1761787d 100644
--- a/dlls/win32u/window.c
+++ b/dlls/win32u/window.c
@@ -6262,6 +6262,7 @@ ULONG_PTR WINAPI NtUserCallHwndParam( HWND hwnd, DWORD_PTR param, DWORD code )
     case NtUserCallHwndParam_GetWinMonitorDpi:
     {
         UINT raw_dpi_num, raw_dpi_den, dpi = get_win_monitor_dpi( hwnd, &raw_dpi_num, &raw_dpi_den );
+        if (!raw_dpi_den) raw_dpi_den = 1;
         return param == MDT_EFFECTIVE_DPI ? dpi : (raw_dpi_num + raw_dpi_den / 2) / raw_dpi_den;
     }
 
-- 
2.51.1


From 8be2b8a62a9391ff6289445e73d2ac3fe534bd4e Mon Sep 17 00:00:00 2001
From: Alexandre Julliard <julliard@winehq.org>
Date: Tue, 29 Apr 2025 18:04:00 +0200
Subject: [PATCH 367/406] tools: Add a platform-independent name for the
 ALL_SYSCALLS macros.

---
 dlls/ntdll/ntsyscalls.h     |  21 +-
 dlls/ntdll/signal_arm.c     |   2 +-
 dlls/ntdll/signal_arm64.c   |   2 +-
 dlls/ntdll/signal_arm64ec.c |   4 +-
 dlls/ntdll/signal_i386.c    |   4 +-
 dlls/ntdll/signal_x86_64.c  |   2 +-
 dlls/ntdll/unix/loader.c    |  12 +-
 dlls/sechost/sechost.spec   |   2 +-
 dlls/win32u/main.c          |   5 +-
 dlls/win32u/syscall.c       |  12 +-
 dlls/win32u/win32syscalls.h | 481 ++++++++++++++++++------------------
 tools/make_specfiles        |   6 +-
 12 files changed, 273 insertions(+), 280 deletions(-)

diff --git a/dlls/ntdll/ntsyscalls.h b/dlls/ntdll/ntsyscalls.h
index abfb5a73805..42094a9fd59 100644
--- a/dlls/ntdll/ntsyscalls.h
+++ b/dlls/ntdll/ntsyscalls.h
@@ -248,13 +248,11 @@
     SYSCALL_ENTRY( 0x00f4, NtWriteFileGather, 36 ) \
     SYSCALL_ENTRY( 0x00f5, NtWriteVirtualMemory, 20 ) \
     SYSCALL_ENTRY( 0x00f6, NtYieldExecution, 0 ) \
-    SYSCALL_ENTRY( 0x00f7, __wine_dbg_ftrace, 12 ) \
-    SYSCALL_ENTRY( 0x00f8, __wine_needs_override_large_address_aware, 0 ) \
-    SYSCALL_ENTRY( 0x00f9, __wine_set_unix_env, 8 ) \
-    SYSCALL_ENTRY( 0x00fa, wine_nt_to_unix_file_name, 16 ) \
-    SYSCALL_ENTRY( 0x00fb, wine_unix_to_nt_file_name, 12 )
+    SYSCALL_ENTRY( 0x00f7, wine_nt_to_unix_file_name, 16 ) \
+    SYSCALL_ENTRY( 0x00f8, wine_unix_to_nt_file_name, 12 )
 
-#define ALL_SYSCALLS64 \
+#ifdef _WIN64
+#define ALL_SYSCALLS \
     SYSCALL_ENTRY( 0x0000, NtAcceptConnectPort, 48 ) \
     SYSCALL_ENTRY( 0x0001, NtAccessCheck, 64 ) \
     SYSCALL_ENTRY( 0x0002, NtAccessCheckAndAuditAlarm, 88 ) \
@@ -496,8 +494,9 @@
     SYSCALL_ENTRY( 0x00ee, NtWriteFileGather, 72 ) \
     SYSCALL_ENTRY( 0x00ef, NtWriteVirtualMemory, 40 ) \
     SYSCALL_ENTRY( 0x00f0, NtYieldExecution, 0 ) \
-    SYSCALL_ENTRY( 0x00f1, __wine_dbg_ftrace, 24 ) \
-    SYSCALL_ENTRY( 0x00f2, __wine_needs_override_large_address_aware, 0 ) \
-    SYSCALL_ENTRY( 0x00f3, __wine_set_unix_env, 16 ) \
-    SYSCALL_ENTRY( 0x00f4, wine_nt_to_unix_file_name, 32 ) \
-    SYSCALL_ENTRY( 0x00f5, wine_unix_to_nt_file_name, 24 )
+    SYSCALL_ENTRY( 0x00f1, wine_nt_to_unix_file_name, 32 ) \
+    SYSCALL_ENTRY( 0x00f2, wine_unix_to_nt_file_name, 24 )
+
+#else
+#define ALL_SYSCALLS ALL_SYSCALLS32
+#endif
diff --git a/dlls/ntdll/signal_arm.c b/dlls/ntdll/signal_arm.c
index cbe48be7fec..9f4cc940375 100644
--- a/dlls/ntdll/signal_arm.c
+++ b/dlls/ntdll/signal_arm.c
@@ -54,7 +54,7 @@ typedef union _DISPATCHER_CONTEXT_NONVOLREG_ARM
  *         syscalls
  */
 #define SYSCALL_ENTRY(id,name,args) __ASM_SYSCALL_FUNC( id, name, args )
-ALL_SYSCALLS32
+ALL_SYSCALLS
 DEFINE_SYSCALL_HELPER32()
 #undef SYSCALL_ENTRY
 
diff --git a/dlls/ntdll/signal_arm64.c b/dlls/ntdll/signal_arm64.c
index 5a1bc66db12..899bb066a60 100644
--- a/dlls/ntdll/signal_arm64.c
+++ b/dlls/ntdll/signal_arm64.c
@@ -45,7 +45,7 @@ WINE_DECLARE_DEBUG_CHANNEL(relay);
  *         syscalls
  */
 #define SYSCALL_ENTRY(id,name,args) __ASM_SYSCALL_FUNC( id, name )
-ALL_SYSCALLS64
+ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 
 
diff --git a/dlls/ntdll/signal_arm64ec.c b/dlls/ntdll/signal_arm64ec.c
index 66d47ccbf5b..a233ba4878f 100644
--- a/dlls/ntdll/signal_arm64ec.c
+++ b/dlls/ntdll/signal_arm64ec.c
@@ -331,7 +331,7 @@ void arm64ec_update_hybrid_metadata( void *module, IMAGE_NT_HEADERS *nt,
 enum syscall_ids
 {
 #define SYSCALL_ENTRY(id,name,args) __id_##name = id,
-ALL_SYSCALLS64
+ALL_SYSCALLS
 #undef SYSCALL_ENTRY
     __nb_syscalls
 };
@@ -880,7 +880,7 @@ asm( ".section .rdata, \"dr\"\n\t"
      ".globl arm64ec_syscalls\n"
      "arm64ec_syscalls:\n\t"
 #define SYSCALL_ENTRY(id,name,args) ".quad \"#" #name "$hp_target\"\n\t"
-     ALL_SYSCALLS64
+     ALL_SYSCALLS
 #undef SYSCALL_ENTRY
      ".text" );
 
diff --git a/dlls/ntdll/signal_i386.c b/dlls/ntdll/signal_i386.c
index dd7c33933ba..7da4a77e3d4 100644
--- a/dlls/ntdll/signal_i386.c
+++ b/dlls/ntdll/signal_i386.c
@@ -77,7 +77,7 @@ extern DWORD EXC_CallHandler( EXCEPTION_RECORD *record, EXCEPTION_REGISTRATION_R
 enum syscall_ids
 {
 #define SYSCALL_ENTRY(id,name,args) __id_##name = id,
-ALL_SYSCALLS32
+ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 };
 
@@ -100,7 +100,7 @@ void NtQueryInformationProcess_wrapper(void)
  *         syscalls
  */
 #define SYSCALL_ENTRY(id,name,args) __ASM_SYSCALL_FUNC( id, name, args )
-ALL_SYSCALLS32
+ALL_SYSCALLS
 DEFINE_SYSCALL_HELPER32()
 #undef SYSCALL_ENTRY
 
diff --git a/dlls/ntdll/signal_x86_64.c b/dlls/ntdll/signal_x86_64.c
index 5402b3842a5..b687ac7b6a4 100644
--- a/dlls/ntdll/signal_x86_64.c
+++ b/dlls/ntdll/signal_x86_64.c
@@ -44,7 +44,7 @@
  *         syscalls
  */
 #define SYSCALL_ENTRY(id,name,args) __ASM_SYSCALL_FUNC( id, name )
-ALL_SYSCALLS64
+ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 
 
diff --git a/dlls/ntdll/unix/loader.c b/dlls/ntdll/unix/loader.c
index c5690ba7b08..17c7c0a5934 100644
--- a/dlls/ntdll/unix/loader.c
+++ b/dlls/ntdll/unix/loader.c
@@ -124,22 +124,14 @@ SYSTEM_DLL_INIT_BLOCK *pLdrSystemDllInitBlock = NULL;
 static void * const syscalls[] =
 {
 #define SYSCALL_ENTRY(id,name,args) name,
-#ifdef _WIN64
-    ALL_SYSCALLS64
-#else
-    ALL_SYSCALLS32
-#endif
+    ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 };
 
 static BYTE syscall_args[ARRAY_SIZE(syscalls)] =
 {
 #define SYSCALL_ENTRY(id,name,args) args,
-#ifdef _WIN64
-    ALL_SYSCALLS64
-#else
-    ALL_SYSCALLS32
-#endif
+    ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 };
 
diff --git a/dlls/sechost/sechost.spec b/dlls/sechost/sechost.spec
index 12f4ff64412..de4f1f3f996 100644
--- a/dlls/sechost/sechost.spec
+++ b/dlls/sechost/sechost.spec
@@ -89,7 +89,7 @@
 @ stdcall EnumDependentServicesW(long long ptr long ptr ptr)
 @ stdcall EnumServicesStatusExW(long long long long ptr long ptr ptr ptr wstr)
 @ stub EnumerateIdentityProviders
-@ stub EnumerateTraceGuidsEx
+@ stdcall EnumerateTraceGuidsEx(long ptr long ptr long ptr) advapi32.EnumerateTraceGuidsEx
 @ stub EtwQueryRealtimeConsumer
 @ stub EventAccessControl
 @ stub EventAccessQuery
diff --git a/dlls/win32u/main.c b/dlls/win32u/main.c
index bd8120ad424..9760d4ace21 100644
--- a/dlls/win32u/main.c
+++ b/dlls/win32u/main.c
@@ -40,7 +40,7 @@ void *__wine_syscall_dispatcher = NULL;
 enum syscall_ids
 {
 #define SYSCALL_ENTRY(id,name,args) __id_##name = id,
-ALL_SYSCALLS64
+ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 };
 
@@ -2375,12 +2375,11 @@ BOOL SYSCALL_API __wine_get_icm_profile( HDC hdc, BOOL allow_default, DWORD *siz
 
 #ifdef _WIN64
 #define SYSCALL_ENTRY(id,name,args) __ASM_SYSCALL_FUNC( id, name )
-ALL_SYSCALLS64
 #else
 #define SYSCALL_ENTRY(id,name,args) __ASM_SYSCALL_FUNC( id, name, args )
 DEFINE_SYSCALL_HELPER32()
-ALL_SYSCALLS32
 #endif
+ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 
 #endif /*  __arm64ec__ */
diff --git a/dlls/win32u/syscall.c b/dlls/win32u/syscall.c
index c03118821d9..aad006111cf 100644
--- a/dlls/win32u/syscall.c
+++ b/dlls/win32u/syscall.c
@@ -39,22 +39,14 @@ ULONG_PTR zero_bits = 0;
 static ULONG_PTR syscalls[] =
 {
 #define SYSCALL_ENTRY(id,name,args) (ULONG_PTR)name,
-#ifdef _WIN64
-    ALL_SYSCALLS64
-#else
-    ALL_SYSCALLS32
-#endif
+    ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 };
 
 static BYTE arguments[ARRAY_SIZE(syscalls)] =
 {
 #define SYSCALL_ENTRY(id,name,args) args,
-#ifdef _WIN64
-    ALL_SYSCALLS64
-#else
-    ALL_SYSCALLS32
-#endif
+    ALL_SYSCALLS
 #undef SYSCALL_ENTRY
 };
 
diff --git a/dlls/win32u/win32syscalls.h b/dlls/win32u/win32syscalls.h
index e6f6cbefef6..9493695e79a 100644
--- a/dlls/win32u/win32syscalls.h
+++ b/dlls/win32u/win32syscalls.h
@@ -326,126 +326,128 @@
     SYSCALL_ENTRY( 0x1142, NtUserGetUpdateRgn, 12 ) \
     SYSCALL_ENTRY( 0x1143, NtUserGetUpdatedClipboardFormats, 12 ) \
     SYSCALL_ENTRY( 0x1144, NtUserGetWindowDC, 4 ) \
-    SYSCALL_ENTRY( 0x1145, NtUserGetWindowPlacement, 8 ) \
-    SYSCALL_ENTRY( 0x1146, NtUserGetWindowRgnEx, 12 ) \
-    SYSCALL_ENTRY( 0x1147, NtUserHideCaret, 4 ) \
-    SYSCALL_ENTRY( 0x1148, NtUserHiliteMenuItem, 16 ) \
-    SYSCALL_ENTRY( 0x1149, NtUserInitializeClientPfnArrays, 16 ) \
-    SYSCALL_ENTRY( 0x114a, NtUserInternalGetWindowIcon, 8 ) \
-    SYSCALL_ENTRY( 0x114b, NtUserInternalGetWindowText, 12 ) \
-    SYSCALL_ENTRY( 0x114c, NtUserInvalidateRect, 12 ) \
-    SYSCALL_ENTRY( 0x114d, NtUserInvalidateRgn, 12 ) \
-    SYSCALL_ENTRY( 0x114e, NtUserIsClipboardFormatAvailable, 4 ) \
-    SYSCALL_ENTRY( 0x114f, NtUserIsMouseInPointerEnabled, 0 ) \
-    SYSCALL_ENTRY( 0x1150, NtUserIsTouchWindow, 8 ) \
-    SYSCALL_ENTRY( 0x1151, NtUserKillTimer, 8 ) \
-    SYSCALL_ENTRY( 0x1152, NtUserLockWindowUpdate, 4 ) \
-    SYSCALL_ENTRY( 0x1153, NtUserLogicalToPerMonitorDPIPhysicalPoint, 8 ) \
-    SYSCALL_ENTRY( 0x1154, NtUserMapVirtualKeyEx, 12 ) \
-    SYSCALL_ENTRY( 0x1155, NtUserMenuItemFromPoint, 16 ) \
-    SYSCALL_ENTRY( 0x1156, NtUserMessageBeep, 4 ) \
-    SYSCALL_ENTRY( 0x1157, NtUserMessageCall, 28 ) \
-    SYSCALL_ENTRY( 0x1158, NtUserMoveWindow, 24 ) \
-    SYSCALL_ENTRY( 0x1159, NtUserMsgWaitForMultipleObjectsEx, 20 ) \
-    SYSCALL_ENTRY( 0x115a, NtUserNotifyIMEStatus, 8 ) \
-    SYSCALL_ENTRY( 0x115b, NtUserNotifyWinEvent, 16 ) \
-    SYSCALL_ENTRY( 0x115c, NtUserOpenClipboard, 8 ) \
-    SYSCALL_ENTRY( 0x115d, NtUserOpenDesktop, 12 ) \
-    SYSCALL_ENTRY( 0x115e, NtUserOpenInputDesktop, 12 ) \
-    SYSCALL_ENTRY( 0x115f, NtUserOpenWindowStation, 8 ) \
-    SYSCALL_ENTRY( 0x1160, NtUserPeekMessage, 20 ) \
-    SYSCALL_ENTRY( 0x1161, NtUserPerMonitorDPIPhysicalToLogicalPoint, 8 ) \
-    SYSCALL_ENTRY( 0x1162, NtUserPostMessage, 16 ) \
-    SYSCALL_ENTRY( 0x1163, NtUserPostQuitMessage, 4 ) \
-    SYSCALL_ENTRY( 0x1164, NtUserPostThreadMessage, 16 ) \
-    SYSCALL_ENTRY( 0x1165, NtUserPrintWindow, 12 ) \
-    SYSCALL_ENTRY( 0x1166, NtUserQueryDisplayConfig, 24 ) \
-    SYSCALL_ENTRY( 0x1167, NtUserQueryInputContext, 8 ) \
-    SYSCALL_ENTRY( 0x1168, NtUserQueryWindow, 8 ) \
-    SYSCALL_ENTRY( 0x1169, NtUserRealChildWindowFromPoint, 12 ) \
-    SYSCALL_ENTRY( 0x116a, NtUserRedrawWindow, 16 ) \
-    SYSCALL_ENTRY( 0x116b, NtUserRegisterClassExWOW, 28 ) \
-    SYSCALL_ENTRY( 0x116c, NtUserRegisterHotKey, 16 ) \
-    SYSCALL_ENTRY( 0x116d, NtUserRegisterRawInputDevices, 12 ) \
-    SYSCALL_ENTRY( 0x116e, NtUserRegisterTouchPadCapable, 4 ) \
-    SYSCALL_ENTRY( 0x116f, NtUserReleaseCapture, 0 ) \
-    SYSCALL_ENTRY( 0x1170, NtUserReleaseDC, 8 ) \
-    SYSCALL_ENTRY( 0x1171, NtUserRemoveClipboardFormatListener, 4 ) \
-    SYSCALL_ENTRY( 0x1172, NtUserRemoveMenu, 12 ) \
-    SYSCALL_ENTRY( 0x1173, NtUserRemoveProp, 8 ) \
-    SYSCALL_ENTRY( 0x1174, NtUserScrollDC, 28 ) \
-    SYSCALL_ENTRY( 0x1175, NtUserScrollWindowEx, 32 ) \
-    SYSCALL_ENTRY( 0x1176, NtUserSelectPalette, 12 ) \
-    SYSCALL_ENTRY( 0x1177, NtUserSendInput, 12 ) \
-    SYSCALL_ENTRY( 0x1178, NtUserSetActiveWindow, 4 ) \
-    SYSCALL_ENTRY( 0x1179, NtUserSetAdditionalForegroundBoostProcesses, 12 ) \
-    SYSCALL_ENTRY( 0x117a, NtUserSetCapture, 4 ) \
-    SYSCALL_ENTRY( 0x117b, NtUserSetClassLong, 16 ) \
-    SYSCALL_ENTRY( 0x117c, NtUserSetClassLongPtr, 16 ) \
-    SYSCALL_ENTRY( 0x117d, NtUserSetClassWord, 12 ) \
-    SYSCALL_ENTRY( 0x117e, NtUserSetClipboardData, 12 ) \
-    SYSCALL_ENTRY( 0x117f, NtUserSetClipboardViewer, 4 ) \
-    SYSCALL_ENTRY( 0x1180, NtUserSetCursor, 4 ) \
-    SYSCALL_ENTRY( 0x1181, NtUserSetCursorIconData, 16 ) \
-    SYSCALL_ENTRY( 0x1182, NtUserSetCursorPos, 8 ) \
-    SYSCALL_ENTRY( 0x1183, NtUserSetFocus, 4 ) \
-    SYSCALL_ENTRY( 0x1184, NtUserSetInternalWindowPos, 16 ) \
-    SYSCALL_ENTRY( 0x1185, NtUserSetKeyboardState, 4 ) \
-    SYSCALL_ENTRY( 0x1186, NtUserSetLayeredWindowAttributes, 16 ) \
-    SYSCALL_ENTRY( 0x1187, NtUserSetMenu, 8 ) \
-    SYSCALL_ENTRY( 0x1188, NtUserSetMenuContextHelpId, 8 ) \
-    SYSCALL_ENTRY( 0x1189, NtUserSetMenuDefaultItem, 12 ) \
-    SYSCALL_ENTRY( 0x118a, NtUserSetObjectInformation, 16 ) \
-    SYSCALL_ENTRY( 0x118b, NtUserSetParent, 8 ) \
-    SYSCALL_ENTRY( 0x118c, NtUserSetProcessDpiAwarenessContext, 8 ) \
-    SYSCALL_ENTRY( 0x118d, NtUserSetProcessWindowStation, 4 ) \
-    SYSCALL_ENTRY( 0x118e, NtUserSetProp, 12 ) \
-    SYSCALL_ENTRY( 0x118f, NtUserSetScrollInfo, 16 ) \
-    SYSCALL_ENTRY( 0x1190, NtUserSetShellWindowEx, 8 ) \
-    SYSCALL_ENTRY( 0x1191, NtUserSetSysColors, 12 ) \
-    SYSCALL_ENTRY( 0x1192, NtUserSetSystemMenu, 8 ) \
-    SYSCALL_ENTRY( 0x1193, NtUserSetSystemTimer, 12 ) \
-    SYSCALL_ENTRY( 0x1194, NtUserSetThreadDesktop, 4 ) \
-    SYSCALL_ENTRY( 0x1195, NtUserSetTimer, 20 ) \
-    SYSCALL_ENTRY( 0x1196, NtUserSetWinEventHook, 32 ) \
-    SYSCALL_ENTRY( 0x1197, NtUserSetWindowLong, 16 ) \
-    SYSCALL_ENTRY( 0x1198, NtUserSetWindowLongPtr, 16 ) \
-    SYSCALL_ENTRY( 0x1199, NtUserSetWindowPlacement, 8 ) \
-    SYSCALL_ENTRY( 0x119a, NtUserSetWindowPos, 28 ) \
-    SYSCALL_ENTRY( 0x119b, NtUserSetWindowRgn, 12 ) \
-    SYSCALL_ENTRY( 0x119c, NtUserSetWindowWord, 12 ) \
-    SYSCALL_ENTRY( 0x119d, NtUserSetWindowsHookEx, 24 ) \
-    SYSCALL_ENTRY( 0x119e, NtUserShowCaret, 4 ) \
-    SYSCALL_ENTRY( 0x119f, NtUserShowCursor, 4 ) \
-    SYSCALL_ENTRY( 0x11a0, NtUserShowScrollBar, 12 ) \
-    SYSCALL_ENTRY( 0x11a1, NtUserShowWindow, 8 ) \
-    SYSCALL_ENTRY( 0x11a2, NtUserShowWindowAsync, 8 ) \
-    SYSCALL_ENTRY( 0x11a3, NtUserSwitchDesktop, 4 ) \
-    SYSCALL_ENTRY( 0x11a4, NtUserSystemParametersInfo, 16 ) \
-    SYSCALL_ENTRY( 0x11a5, NtUserSystemParametersInfoForDpi, 20 ) \
-    SYSCALL_ENTRY( 0x11a6, NtUserThunkedMenuInfo, 8 ) \
-    SYSCALL_ENTRY( 0x11a7, NtUserThunkedMenuItemInfo, 24 ) \
-    SYSCALL_ENTRY( 0x11a8, NtUserToUnicodeEx, 28 ) \
-    SYSCALL_ENTRY( 0x11a9, NtUserTrackMouseEvent, 4 ) \
-    SYSCALL_ENTRY( 0x11aa, NtUserTrackPopupMenuEx, 24 ) \
-    SYSCALL_ENTRY( 0x11ab, NtUserTranslateAccelerator, 12 ) \
-    SYSCALL_ENTRY( 0x11ac, NtUserTranslateMessage, 8 ) \
-    SYSCALL_ENTRY( 0x11ad, NtUserUnhookWinEvent, 4 ) \
-    SYSCALL_ENTRY( 0x11ae, NtUserUnhookWindowsHookEx, 4 ) \
-    SYSCALL_ENTRY( 0x11af, NtUserUnregisterClass, 12 ) \
-    SYSCALL_ENTRY( 0x11b0, NtUserUnregisterHotKey, 8 ) \
-    SYSCALL_ENTRY( 0x11b1, NtUserUpdateInputContext, 12 ) \
-    SYSCALL_ENTRY( 0x11b2, NtUserUpdateLayeredWindow, 40 ) \
-    SYSCALL_ENTRY( 0x11b3, NtUserValidateRect, 8 ) \
-    SYSCALL_ENTRY( 0x11b4, NtUserVkKeyScanEx, 8 ) \
-    SYSCALL_ENTRY( 0x11b5, NtUserWaitForInputIdle, 12 ) \
-    SYSCALL_ENTRY( 0x11b6, NtUserWaitMessage, 0 ) \
-    SYSCALL_ENTRY( 0x11b7, NtUserWindowFromDC, 4 ) \
-    SYSCALL_ENTRY( 0x11b8, NtUserWindowFromPoint, 8 ) \
-    SYSCALL_ENTRY( 0x11b9, __wine_get_file_outline_text_metric, 16 ) \
-    SYSCALL_ENTRY( 0x11ba, __wine_get_icm_profile, 16 )
+    SYSCALL_ENTRY( 0x1145, NtUserGetWindowDisplayAffinity, 8 ) \
+    SYSCALL_ENTRY( 0x1146, NtUserGetWindowPlacement, 8 ) \
+    SYSCALL_ENTRY( 0x1147, NtUserGetWindowRgnEx, 12 ) \
+    SYSCALL_ENTRY( 0x1148, NtUserHideCaret, 4 ) \
+    SYSCALL_ENTRY( 0x1149, NtUserHiliteMenuItem, 16 ) \
+    SYSCALL_ENTRY( 0x114a, NtUserInitializeClientPfnArrays, 16 ) \
+    SYSCALL_ENTRY( 0x114b, NtUserInternalGetWindowIcon, 8 ) \
+    SYSCALL_ENTRY( 0x114c, NtUserInternalGetWindowText, 12 ) \
+    SYSCALL_ENTRY( 0x114d, NtUserInvalidateRect, 12 ) \
+    SYSCALL_ENTRY( 0x114e, NtUserInvalidateRgn, 12 ) \
+    SYSCALL_ENTRY( 0x114f, NtUserIsClipboardFormatAvailable, 4 ) \
+    SYSCALL_ENTRY( 0x1150, NtUserIsMouseInPointerEnabled, 0 ) \
+    SYSCALL_ENTRY( 0x1151, NtUserIsTouchWindow, 8 ) \
+    SYSCALL_ENTRY( 0x1152, NtUserKillTimer, 8 ) \
+    SYSCALL_ENTRY( 0x1153, NtUserLockWindowUpdate, 4 ) \
+    SYSCALL_ENTRY( 0x1154, NtUserLogicalToPerMonitorDPIPhysicalPoint, 8 ) \
+    SYSCALL_ENTRY( 0x1155, NtUserMapVirtualKeyEx, 12 ) \
+    SYSCALL_ENTRY( 0x1156, NtUserMenuItemFromPoint, 16 ) \
+    SYSCALL_ENTRY( 0x1157, NtUserMessageBeep, 4 ) \
+    SYSCALL_ENTRY( 0x1158, NtUserMessageCall, 28 ) \
+    SYSCALL_ENTRY( 0x1159, NtUserMoveWindow, 24 ) \
+    SYSCALL_ENTRY( 0x115a, NtUserMsgWaitForMultipleObjectsEx, 20 ) \
+    SYSCALL_ENTRY( 0x115b, NtUserNotifyIMEStatus, 8 ) \
+    SYSCALL_ENTRY( 0x115c, NtUserNotifyWinEvent, 16 ) \
+    SYSCALL_ENTRY( 0x115d, NtUserOpenClipboard, 8 ) \
+    SYSCALL_ENTRY( 0x115e, NtUserOpenDesktop, 12 ) \
+    SYSCALL_ENTRY( 0x115f, NtUserOpenInputDesktop, 12 ) \
+    SYSCALL_ENTRY( 0x1160, NtUserOpenWindowStation, 8 ) \
+    SYSCALL_ENTRY( 0x1161, NtUserPeekMessage, 20 ) \
+    SYSCALL_ENTRY( 0x1162, NtUserPerMonitorDPIPhysicalToLogicalPoint, 8 ) \
+    SYSCALL_ENTRY( 0x1163, NtUserPostMessage, 16 ) \
+    SYSCALL_ENTRY( 0x1164, NtUserPostQuitMessage, 4 ) \
+    SYSCALL_ENTRY( 0x1165, NtUserPostThreadMessage, 16 ) \
+    SYSCALL_ENTRY( 0x1166, NtUserPrintWindow, 12 ) \
+    SYSCALL_ENTRY( 0x1167, NtUserQueryDisplayConfig, 24 ) \
+    SYSCALL_ENTRY( 0x1168, NtUserQueryInputContext, 8 ) \
+    SYSCALL_ENTRY( 0x1169, NtUserQueryWindow, 8 ) \
+    SYSCALL_ENTRY( 0x116a, NtUserRealChildWindowFromPoint, 12 ) \
+    SYSCALL_ENTRY( 0x116b, NtUserRedrawWindow, 16 ) \
+    SYSCALL_ENTRY( 0x116c, NtUserRegisterClassExWOW, 28 ) \
+    SYSCALL_ENTRY( 0x116d, NtUserRegisterHotKey, 16 ) \
+    SYSCALL_ENTRY( 0x116e, NtUserRegisterRawInputDevices, 12 ) \
+    SYSCALL_ENTRY( 0x116f, NtUserRegisterTouchPadCapable, 4 ) \
+    SYSCALL_ENTRY( 0x1170, NtUserReleaseCapture, 0 ) \
+    SYSCALL_ENTRY( 0x1171, NtUserReleaseDC, 8 ) \
+    SYSCALL_ENTRY( 0x1172, NtUserRemoveClipboardFormatListener, 4 ) \
+    SYSCALL_ENTRY( 0x1173, NtUserRemoveMenu, 12 ) \
+    SYSCALL_ENTRY( 0x1174, NtUserRemoveProp, 8 ) \
+    SYSCALL_ENTRY( 0x1175, NtUserScrollDC, 28 ) \
+    SYSCALL_ENTRY( 0x1176, NtUserScrollWindowEx, 32 ) \
+    SYSCALL_ENTRY( 0x1177, NtUserSelectPalette, 12 ) \
+    SYSCALL_ENTRY( 0x1178, NtUserSendInput, 12 ) \
+    SYSCALL_ENTRY( 0x1179, NtUserSetActiveWindow, 4 ) \
+    SYSCALL_ENTRY( 0x117a, NtUserSetAdditionalForegroundBoostProcesses, 12 ) \
+    SYSCALL_ENTRY( 0x117b, NtUserSetCapture, 4 ) \
+    SYSCALL_ENTRY( 0x117c, NtUserSetClassLong, 16 ) \
+    SYSCALL_ENTRY( 0x117d, NtUserSetClassLongPtr, 16 ) \
+    SYSCALL_ENTRY( 0x117e, NtUserSetClassWord, 12 ) \
+    SYSCALL_ENTRY( 0x117f, NtUserSetClipboardData, 12 ) \
+    SYSCALL_ENTRY( 0x1180, NtUserSetClipboardViewer, 4 ) \
+    SYSCALL_ENTRY( 0x1181, NtUserSetCursor, 4 ) \
+    SYSCALL_ENTRY( 0x1182, NtUserSetCursorIconData, 16 ) \
+    SYSCALL_ENTRY( 0x1183, NtUserSetCursorPos, 8 ) \
+    SYSCALL_ENTRY( 0x1184, NtUserSetFocus, 4 ) \
+    SYSCALL_ENTRY( 0x1185, NtUserSetInternalWindowPos, 16 ) \
+    SYSCALL_ENTRY( 0x1186, NtUserSetKeyboardState, 4 ) \
+    SYSCALL_ENTRY( 0x1187, NtUserSetLayeredWindowAttributes, 16 ) \
+    SYSCALL_ENTRY( 0x1188, NtUserSetMenu, 8 ) \
+    SYSCALL_ENTRY( 0x1189, NtUserSetMenuContextHelpId, 8 ) \
+    SYSCALL_ENTRY( 0x118a, NtUserSetMenuDefaultItem, 12 ) \
+    SYSCALL_ENTRY( 0x118b, NtUserSetObjectInformation, 16 ) \
+    SYSCALL_ENTRY( 0x118c, NtUserSetParent, 8 ) \
+    SYSCALL_ENTRY( 0x118d, NtUserSetProcessDpiAwarenessContext, 8 ) \
+    SYSCALL_ENTRY( 0x118e, NtUserSetProcessWindowStation, 4 ) \
+    SYSCALL_ENTRY( 0x118f, NtUserSetProp, 12 ) \
+    SYSCALL_ENTRY( 0x1190, NtUserSetScrollInfo, 16 ) \
+    SYSCALL_ENTRY( 0x1191, NtUserSetShellWindowEx, 8 ) \
+    SYSCALL_ENTRY( 0x1192, NtUserSetSysColors, 12 ) \
+    SYSCALL_ENTRY( 0x1193, NtUserSetSystemMenu, 8 ) \
+    SYSCALL_ENTRY( 0x1194, NtUserSetSystemTimer, 12 ) \
+    SYSCALL_ENTRY( 0x1195, NtUserSetThreadDesktop, 4 ) \
+    SYSCALL_ENTRY( 0x1196, NtUserSetTimer, 20 ) \
+    SYSCALL_ENTRY( 0x1197, NtUserSetWinEventHook, 32 ) \
+    SYSCALL_ENTRY( 0x1198, NtUserSetWindowLong, 16 ) \
+    SYSCALL_ENTRY( 0x1199, NtUserSetWindowLongPtr, 16 ) \
+    SYSCALL_ENTRY( 0x119a, NtUserSetWindowPlacement, 8 ) \
+    SYSCALL_ENTRY( 0x119b, NtUserSetWindowPos, 28 ) \
+    SYSCALL_ENTRY( 0x119c, NtUserSetWindowRgn, 12 ) \
+    SYSCALL_ENTRY( 0x119d, NtUserSetWindowWord, 12 ) \
+    SYSCALL_ENTRY( 0x119e, NtUserSetWindowsHookEx, 24 ) \
+    SYSCALL_ENTRY( 0x119f, NtUserShowCaret, 4 ) \
+    SYSCALL_ENTRY( 0x11a0, NtUserShowCursor, 4 ) \
+    SYSCALL_ENTRY( 0x11a1, NtUserShowScrollBar, 12 ) \
+    SYSCALL_ENTRY( 0x11a2, NtUserShowWindow, 8 ) \
+    SYSCALL_ENTRY( 0x11a3, NtUserShowWindowAsync, 8 ) \
+    SYSCALL_ENTRY( 0x11a4, NtUserSwitchDesktop, 4 ) \
+    SYSCALL_ENTRY( 0x11a5, NtUserSystemParametersInfo, 16 ) \
+    SYSCALL_ENTRY( 0x11a6, NtUserSystemParametersInfoForDpi, 20 ) \
+    SYSCALL_ENTRY( 0x11a7, NtUserThunkedMenuInfo, 8 ) \
+    SYSCALL_ENTRY( 0x11a8, NtUserThunkedMenuItemInfo, 24 ) \
+    SYSCALL_ENTRY( 0x11a9, NtUserToUnicodeEx, 28 ) \
+    SYSCALL_ENTRY( 0x11aa, NtUserTrackMouseEvent, 4 ) \
+    SYSCALL_ENTRY( 0x11ab, NtUserTrackPopupMenuEx, 24 ) \
+    SYSCALL_ENTRY( 0x11ac, NtUserTranslateAccelerator, 12 ) \
+    SYSCALL_ENTRY( 0x11ad, NtUserTranslateMessage, 8 ) \
+    SYSCALL_ENTRY( 0x11ae, NtUserUnhookWinEvent, 4 ) \
+    SYSCALL_ENTRY( 0x11af, NtUserUnhookWindowsHookEx, 4 ) \
+    SYSCALL_ENTRY( 0x11b0, NtUserUnregisterClass, 12 ) \
+    SYSCALL_ENTRY( 0x11b1, NtUserUnregisterHotKey, 8 ) \
+    SYSCALL_ENTRY( 0x11b2, NtUserUpdateInputContext, 12 ) \
+    SYSCALL_ENTRY( 0x11b3, NtUserUpdateLayeredWindow, 40 ) \
+    SYSCALL_ENTRY( 0x11b4, NtUserValidateRect, 8 ) \
+    SYSCALL_ENTRY( 0x11b5, NtUserVkKeyScanEx, 8 ) \
+    SYSCALL_ENTRY( 0x11b6, NtUserWaitForInputIdle, 12 ) \
+    SYSCALL_ENTRY( 0x11b7, NtUserWaitMessage, 0 ) \
+    SYSCALL_ENTRY( 0x11b8, NtUserWindowFromDC, 4 ) \
+    SYSCALL_ENTRY( 0x11b9, NtUserWindowFromPoint, 8 ) \
+    SYSCALL_ENTRY( 0x11ba, __wine_get_file_outline_text_metric, 16 ) \
+    SYSCALL_ENTRY( 0x11bb, __wine_get_icm_profile, 16 )
 
-#define ALL_SYSCALLS64 \
+#ifdef _WIN64
+#define ALL_SYSCALLS \
     SYSCALL_ENTRY( 0x1000, NtGdiAbortDoc, 8 ) \
     SYSCALL_ENTRY( 0x1001, NtGdiAbortPath, 8 ) \
     SYSCALL_ENTRY( 0x1002, NtGdiAddFontMemResourceEx, 40 ) \
@@ -771,121 +773,126 @@
     SYSCALL_ENTRY( 0x1142, NtUserGetUpdateRgn, 24 ) \
     SYSCALL_ENTRY( 0x1143, NtUserGetUpdatedClipboardFormats, 24 ) \
     SYSCALL_ENTRY( 0x1144, NtUserGetWindowDC, 8 ) \
-    SYSCALL_ENTRY( 0x1145, NtUserGetWindowPlacement, 16 ) \
-    SYSCALL_ENTRY( 0x1146, NtUserGetWindowRgnEx, 24 ) \
-    SYSCALL_ENTRY( 0x1147, NtUserHideCaret, 8 ) \
-    SYSCALL_ENTRY( 0x1148, NtUserHiliteMenuItem, 32 ) \
-    SYSCALL_ENTRY( 0x1149, NtUserInitializeClientPfnArrays, 32 ) \
-    SYSCALL_ENTRY( 0x114a, NtUserInternalGetWindowIcon, 16 ) \
-    SYSCALL_ENTRY( 0x114b, NtUserInternalGetWindowText, 24 ) \
-    SYSCALL_ENTRY( 0x114c, NtUserInvalidateRect, 24 ) \
-    SYSCALL_ENTRY( 0x114d, NtUserInvalidateRgn, 24 ) \
-    SYSCALL_ENTRY( 0x114e, NtUserIsClipboardFormatAvailable, 8 ) \
-    SYSCALL_ENTRY( 0x114f, NtUserIsMouseInPointerEnabled, 0 ) \
-    SYSCALL_ENTRY( 0x1150, NtUserIsTouchWindow, 16 ) \
-    SYSCALL_ENTRY( 0x1151, NtUserKillTimer, 16 ) \
-    SYSCALL_ENTRY( 0x1152, NtUserLockWindowUpdate, 8 ) \
-    SYSCALL_ENTRY( 0x1153, NtUserLogicalToPerMonitorDPIPhysicalPoint, 16 ) \
-    SYSCALL_ENTRY( 0x1154, NtUserMapVirtualKeyEx, 24 ) \
-    SYSCALL_ENTRY( 0x1155, NtUserMenuItemFromPoint, 32 ) \
-    SYSCALL_ENTRY( 0x1156, NtUserMessageBeep, 8 ) \
-    SYSCALL_ENTRY( 0x1157, NtUserMessageCall, 56 ) \
-    SYSCALL_ENTRY( 0x1158, NtUserMoveWindow, 48 ) \
-    SYSCALL_ENTRY( 0x1159, NtUserMsgWaitForMultipleObjectsEx, 40 ) \
-    SYSCALL_ENTRY( 0x115a, NtUserNotifyIMEStatus, 16 ) \
-    SYSCALL_ENTRY( 0x115b, NtUserNotifyWinEvent, 32 ) \
-    SYSCALL_ENTRY( 0x115c, NtUserOpenClipboard, 16 ) \
-    SYSCALL_ENTRY( 0x115d, NtUserOpenDesktop, 24 ) \
-    SYSCALL_ENTRY( 0x115e, NtUserOpenInputDesktop, 24 ) \
-    SYSCALL_ENTRY( 0x115f, NtUserOpenWindowStation, 16 ) \
-    SYSCALL_ENTRY( 0x1160, NtUserPeekMessage, 40 ) \
-    SYSCALL_ENTRY( 0x1161, NtUserPerMonitorDPIPhysicalToLogicalPoint, 16 ) \
-    SYSCALL_ENTRY( 0x1162, NtUserPostMessage, 32 ) \
-    SYSCALL_ENTRY( 0x1163, NtUserPostQuitMessage, 8 ) \
-    SYSCALL_ENTRY( 0x1164, NtUserPostThreadMessage, 32 ) \
-    SYSCALL_ENTRY( 0x1165, NtUserPrintWindow, 24 ) \
-    SYSCALL_ENTRY( 0x1166, NtUserQueryDisplayConfig, 48 ) \
-    SYSCALL_ENTRY( 0x1167, NtUserQueryInputContext, 16 ) \
-    SYSCALL_ENTRY( 0x1168, NtUserQueryWindow, 16 ) \
-    SYSCALL_ENTRY( 0x1169, NtUserRealChildWindowFromPoint, 24 ) \
-    SYSCALL_ENTRY( 0x116a, NtUserRedrawWindow, 32 ) \
-    SYSCALL_ENTRY( 0x116b, NtUserRegisterClassExWOW, 56 ) \
-    SYSCALL_ENTRY( 0x116c, NtUserRegisterHotKey, 32 ) \
-    SYSCALL_ENTRY( 0x116d, NtUserRegisterRawInputDevices, 24 ) \
-    SYSCALL_ENTRY( 0x116e, NtUserRegisterTouchPadCapable, 8 ) \
-    SYSCALL_ENTRY( 0x116f, NtUserReleaseCapture, 0 ) \
-    SYSCALL_ENTRY( 0x1170, NtUserReleaseDC, 16 ) \
-    SYSCALL_ENTRY( 0x1171, NtUserRemoveClipboardFormatListener, 8 ) \
-    SYSCALL_ENTRY( 0x1172, NtUserRemoveMenu, 24 ) \
-    SYSCALL_ENTRY( 0x1173, NtUserRemoveProp, 16 ) \
-    SYSCALL_ENTRY( 0x1174, NtUserScrollDC, 56 ) \
-    SYSCALL_ENTRY( 0x1175, NtUserScrollWindowEx, 64 ) \
-    SYSCALL_ENTRY( 0x1176, NtUserSelectPalette, 24 ) \
-    SYSCALL_ENTRY( 0x1177, NtUserSendInput, 24 ) \
-    SYSCALL_ENTRY( 0x1178, NtUserSetActiveWindow, 8 ) \
-    SYSCALL_ENTRY( 0x1179, NtUserSetAdditionalForegroundBoostProcesses, 24 ) \
-    SYSCALL_ENTRY( 0x117a, NtUserSetCapture, 8 ) \
-    SYSCALL_ENTRY( 0x117b, NtUserSetClassLong, 32 ) \
-    SYSCALL_ENTRY( 0x117c, NtUserSetClassLongPtr, 32 ) \
-    SYSCALL_ENTRY( 0x117d, NtUserSetClassWord, 24 ) \
-    SYSCALL_ENTRY( 0x117e, NtUserSetClipboardData, 24 ) \
-    SYSCALL_ENTRY( 0x117f, NtUserSetClipboardViewer, 8 ) \
-    SYSCALL_ENTRY( 0x1180, NtUserSetCursor, 8 ) \
-    SYSCALL_ENTRY( 0x1181, NtUserSetCursorIconData, 32 ) \
-    SYSCALL_ENTRY( 0x1182, NtUserSetCursorPos, 16 ) \
-    SYSCALL_ENTRY( 0x1183, NtUserSetFocus, 8 ) \
-    SYSCALL_ENTRY( 0x1184, NtUserSetInternalWindowPos, 32 ) \
-    SYSCALL_ENTRY( 0x1185, NtUserSetKeyboardState, 8 ) \
-    SYSCALL_ENTRY( 0x1186, NtUserSetLayeredWindowAttributes, 32 ) \
-    SYSCALL_ENTRY( 0x1187, NtUserSetMenu, 16 ) \
-    SYSCALL_ENTRY( 0x1188, NtUserSetMenuContextHelpId, 16 ) \
-    SYSCALL_ENTRY( 0x1189, NtUserSetMenuDefaultItem, 24 ) \
-    SYSCALL_ENTRY( 0x118a, NtUserSetObjectInformation, 32 ) \
-    SYSCALL_ENTRY( 0x118b, NtUserSetParent, 16 ) \
-    SYSCALL_ENTRY( 0x118c, NtUserSetProcessDpiAwarenessContext, 16 ) \
-    SYSCALL_ENTRY( 0x118d, NtUserSetProcessWindowStation, 8 ) \
-    SYSCALL_ENTRY( 0x118e, NtUserSetProp, 24 ) \
-    SYSCALL_ENTRY( 0x118f, NtUserSetScrollInfo, 32 ) \
-    SYSCALL_ENTRY( 0x1190, NtUserSetShellWindowEx, 16 ) \
-    SYSCALL_ENTRY( 0x1191, NtUserSetSysColors, 24 ) \
-    SYSCALL_ENTRY( 0x1192, NtUserSetSystemMenu, 16 ) \
-    SYSCALL_ENTRY( 0x1193, NtUserSetSystemTimer, 24 ) \
-    SYSCALL_ENTRY( 0x1194, NtUserSetThreadDesktop, 8 ) \
-    SYSCALL_ENTRY( 0x1195, NtUserSetTimer, 40 ) \
-    SYSCALL_ENTRY( 0x1196, NtUserSetWinEventHook, 64 ) \
-    SYSCALL_ENTRY( 0x1197, NtUserSetWindowLong, 32 ) \
-    SYSCALL_ENTRY( 0x1198, NtUserSetWindowLongPtr, 32 ) \
-    SYSCALL_ENTRY( 0x1199, NtUserSetWindowPlacement, 16 ) \
-    SYSCALL_ENTRY( 0x119a, NtUserSetWindowPos, 56 ) \
-    SYSCALL_ENTRY( 0x119b, NtUserSetWindowRgn, 24 ) \
-    SYSCALL_ENTRY( 0x119c, NtUserSetWindowWord, 24 ) \
-    SYSCALL_ENTRY( 0x119d, NtUserSetWindowsHookEx, 48 ) \
-    SYSCALL_ENTRY( 0x119e, NtUserShowCaret, 8 ) \
-    SYSCALL_ENTRY( 0x119f, NtUserShowCursor, 8 ) \
-    SYSCALL_ENTRY( 0x11a0, NtUserShowScrollBar, 24 ) \
-    SYSCALL_ENTRY( 0x11a1, NtUserShowWindow, 16 ) \
-    SYSCALL_ENTRY( 0x11a2, NtUserShowWindowAsync, 16 ) \
-    SYSCALL_ENTRY( 0x11a3, NtUserSwitchDesktop, 8 ) \
-    SYSCALL_ENTRY( 0x11a4, NtUserSystemParametersInfo, 32 ) \
-    SYSCALL_ENTRY( 0x11a5, NtUserSystemParametersInfoForDpi, 40 ) \
-    SYSCALL_ENTRY( 0x11a6, NtUserThunkedMenuInfo, 16 ) \
-    SYSCALL_ENTRY( 0x11a7, NtUserThunkedMenuItemInfo, 48 ) \
-    SYSCALL_ENTRY( 0x11a8, NtUserToUnicodeEx, 56 ) \
-    SYSCALL_ENTRY( 0x11a9, NtUserTrackMouseEvent, 8 ) \
-    SYSCALL_ENTRY( 0x11aa, NtUserTrackPopupMenuEx, 48 ) \
-    SYSCALL_ENTRY( 0x11ab, NtUserTranslateAccelerator, 24 ) \
-    SYSCALL_ENTRY( 0x11ac, NtUserTranslateMessage, 16 ) \
-    SYSCALL_ENTRY( 0x11ad, NtUserUnhookWinEvent, 8 ) \
-    SYSCALL_ENTRY( 0x11ae, NtUserUnhookWindowsHookEx, 8 ) \
-    SYSCALL_ENTRY( 0x11af, NtUserUnregisterClass, 24 ) \
-    SYSCALL_ENTRY( 0x11b0, NtUserUnregisterHotKey, 16 ) \
-    SYSCALL_ENTRY( 0x11b1, NtUserUpdateInputContext, 24 ) \
-    SYSCALL_ENTRY( 0x11b2, NtUserUpdateLayeredWindow, 80 ) \
-    SYSCALL_ENTRY( 0x11b3, NtUserValidateRect, 16 ) \
-    SYSCALL_ENTRY( 0x11b4, NtUserVkKeyScanEx, 16 ) \
-    SYSCALL_ENTRY( 0x11b5, NtUserWaitForInputIdle, 24 ) \
-    SYSCALL_ENTRY( 0x11b6, NtUserWaitMessage, 0 ) \
-    SYSCALL_ENTRY( 0x11b7, NtUserWindowFromDC, 8 ) \
-    SYSCALL_ENTRY( 0x11b8, NtUserWindowFromPoint, 16 ) \
-    SYSCALL_ENTRY( 0x11b9, __wine_get_file_outline_text_metric, 32 ) \
-    SYSCALL_ENTRY( 0x11ba, __wine_get_icm_profile, 32 )
+    SYSCALL_ENTRY( 0x1145, NtUserGetWindowDisplayAffinity, 16 ) \
+    SYSCALL_ENTRY( 0x1146, NtUserGetWindowPlacement, 16 ) \
+    SYSCALL_ENTRY( 0x1147, NtUserGetWindowRgnEx, 24 ) \
+    SYSCALL_ENTRY( 0x1148, NtUserHideCaret, 8 ) \
+    SYSCALL_ENTRY( 0x1149, NtUserHiliteMenuItem, 32 ) \
+    SYSCALL_ENTRY( 0x114a, NtUserInitializeClientPfnArrays, 32 ) \
+    SYSCALL_ENTRY( 0x114b, NtUserInternalGetWindowIcon, 16 ) \
+    SYSCALL_ENTRY( 0x114c, NtUserInternalGetWindowText, 24 ) \
+    SYSCALL_ENTRY( 0x114d, NtUserInvalidateRect, 24 ) \
+    SYSCALL_ENTRY( 0x114e, NtUserInvalidateRgn, 24 ) \
+    SYSCALL_ENTRY( 0x114f, NtUserIsClipboardFormatAvailable, 8 ) \
+    SYSCALL_ENTRY( 0x1150, NtUserIsMouseInPointerEnabled, 0 ) \
+    SYSCALL_ENTRY( 0x1151, NtUserIsTouchWindow, 16 ) \
+    SYSCALL_ENTRY( 0x1152, NtUserKillTimer, 16 ) \
+    SYSCALL_ENTRY( 0x1153, NtUserLockWindowUpdate, 8 ) \
+    SYSCALL_ENTRY( 0x1154, NtUserLogicalToPerMonitorDPIPhysicalPoint, 16 ) \
+    SYSCALL_ENTRY( 0x1155, NtUserMapVirtualKeyEx, 24 ) \
+    SYSCALL_ENTRY( 0x1156, NtUserMenuItemFromPoint, 32 ) \
+    SYSCALL_ENTRY( 0x1157, NtUserMessageBeep, 8 ) \
+    SYSCALL_ENTRY( 0x1158, NtUserMessageCall, 56 ) \
+    SYSCALL_ENTRY( 0x1159, NtUserMoveWindow, 48 ) \
+    SYSCALL_ENTRY( 0x115a, NtUserMsgWaitForMultipleObjectsEx, 40 ) \
+    SYSCALL_ENTRY( 0x115b, NtUserNotifyIMEStatus, 16 ) \
+    SYSCALL_ENTRY( 0x115c, NtUserNotifyWinEvent, 32 ) \
+    SYSCALL_ENTRY( 0x115d, NtUserOpenClipboard, 16 ) \
+    SYSCALL_ENTRY( 0x115e, NtUserOpenDesktop, 24 ) \
+    SYSCALL_ENTRY( 0x115f, NtUserOpenInputDesktop, 24 ) \
+    SYSCALL_ENTRY( 0x1160, NtUserOpenWindowStation, 16 ) \
+    SYSCALL_ENTRY( 0x1161, NtUserPeekMessage, 40 ) \
+    SYSCALL_ENTRY( 0x1162, NtUserPerMonitorDPIPhysicalToLogicalPoint, 16 ) \
+    SYSCALL_ENTRY( 0x1163, NtUserPostMessage, 32 ) \
+    SYSCALL_ENTRY( 0x1164, NtUserPostQuitMessage, 8 ) \
+    SYSCALL_ENTRY( 0x1165, NtUserPostThreadMessage, 32 ) \
+    SYSCALL_ENTRY( 0x1166, NtUserPrintWindow, 24 ) \
+    SYSCALL_ENTRY( 0x1167, NtUserQueryDisplayConfig, 48 ) \
+    SYSCALL_ENTRY( 0x1168, NtUserQueryInputContext, 16 ) \
+    SYSCALL_ENTRY( 0x1169, NtUserQueryWindow, 16 ) \
+    SYSCALL_ENTRY( 0x116a, NtUserRealChildWindowFromPoint, 24 ) \
+    SYSCALL_ENTRY( 0x116b, NtUserRedrawWindow, 32 ) \
+    SYSCALL_ENTRY( 0x116c, NtUserRegisterClassExWOW, 56 ) \
+    SYSCALL_ENTRY( 0x116d, NtUserRegisterHotKey, 32 ) \
+    SYSCALL_ENTRY( 0x116e, NtUserRegisterRawInputDevices, 24 ) \
+    SYSCALL_ENTRY( 0x116f, NtUserRegisterTouchPadCapable, 8 ) \
+    SYSCALL_ENTRY( 0x1170, NtUserReleaseCapture, 0 ) \
+    SYSCALL_ENTRY( 0x1171, NtUserReleaseDC, 16 ) \
+    SYSCALL_ENTRY( 0x1172, NtUserRemoveClipboardFormatListener, 8 ) \
+    SYSCALL_ENTRY( 0x1173, NtUserRemoveMenu, 24 ) \
+    SYSCALL_ENTRY( 0x1174, NtUserRemoveProp, 16 ) \
+    SYSCALL_ENTRY( 0x1175, NtUserScrollDC, 56 ) \
+    SYSCALL_ENTRY( 0x1176, NtUserScrollWindowEx, 64 ) \
+    SYSCALL_ENTRY( 0x1177, NtUserSelectPalette, 24 ) \
+    SYSCALL_ENTRY( 0x1178, NtUserSendInput, 24 ) \
+    SYSCALL_ENTRY( 0x1179, NtUserSetActiveWindow, 8 ) \
+    SYSCALL_ENTRY( 0x117a, NtUserSetAdditionalForegroundBoostProcesses, 24 ) \
+    SYSCALL_ENTRY( 0x117b, NtUserSetCapture, 8 ) \
+    SYSCALL_ENTRY( 0x117c, NtUserSetClassLong, 32 ) \
+    SYSCALL_ENTRY( 0x117d, NtUserSetClassLongPtr, 32 ) \
+    SYSCALL_ENTRY( 0x117e, NtUserSetClassWord, 24 ) \
+    SYSCALL_ENTRY( 0x117f, NtUserSetClipboardData, 24 ) \
+    SYSCALL_ENTRY( 0x1180, NtUserSetClipboardViewer, 8 ) \
+    SYSCALL_ENTRY( 0x1181, NtUserSetCursor, 8 ) \
+    SYSCALL_ENTRY( 0x1182, NtUserSetCursorIconData, 32 ) \
+    SYSCALL_ENTRY( 0x1183, NtUserSetCursorPos, 16 ) \
+    SYSCALL_ENTRY( 0x1184, NtUserSetFocus, 8 ) \
+    SYSCALL_ENTRY( 0x1185, NtUserSetInternalWindowPos, 32 ) \
+    SYSCALL_ENTRY( 0x1186, NtUserSetKeyboardState, 8 ) \
+    SYSCALL_ENTRY( 0x1187, NtUserSetLayeredWindowAttributes, 32 ) \
+    SYSCALL_ENTRY( 0x1188, NtUserSetMenu, 16 ) \
+    SYSCALL_ENTRY( 0x1189, NtUserSetMenuContextHelpId, 16 ) \
+    SYSCALL_ENTRY( 0x118a, NtUserSetMenuDefaultItem, 24 ) \
+    SYSCALL_ENTRY( 0x118b, NtUserSetObjectInformation, 32 ) \
+    SYSCALL_ENTRY( 0x118c, NtUserSetParent, 16 ) \
+    SYSCALL_ENTRY( 0x118d, NtUserSetProcessDpiAwarenessContext, 16 ) \
+    SYSCALL_ENTRY( 0x118e, NtUserSetProcessWindowStation, 8 ) \
+    SYSCALL_ENTRY( 0x118f, NtUserSetProp, 24 ) \
+    SYSCALL_ENTRY( 0x1190, NtUserSetScrollInfo, 32 ) \
+    SYSCALL_ENTRY( 0x1191, NtUserSetShellWindowEx, 16 ) \
+    SYSCALL_ENTRY( 0x1192, NtUserSetSysColors, 24 ) \
+    SYSCALL_ENTRY( 0x1193, NtUserSetSystemMenu, 16 ) \
+    SYSCALL_ENTRY( 0x1194, NtUserSetSystemTimer, 24 ) \
+    SYSCALL_ENTRY( 0x1195, NtUserSetThreadDesktop, 8 ) \
+    SYSCALL_ENTRY( 0x1196, NtUserSetTimer, 40 ) \
+    SYSCALL_ENTRY( 0x1197, NtUserSetWinEventHook, 64 ) \
+    SYSCALL_ENTRY( 0x1198, NtUserSetWindowLong, 32 ) \
+    SYSCALL_ENTRY( 0x1199, NtUserSetWindowLongPtr, 32 ) \
+    SYSCALL_ENTRY( 0x119a, NtUserSetWindowPlacement, 16 ) \
+    SYSCALL_ENTRY( 0x119b, NtUserSetWindowPos, 56 ) \
+    SYSCALL_ENTRY( 0x119c, NtUserSetWindowRgn, 24 ) \
+    SYSCALL_ENTRY( 0x119d, NtUserSetWindowWord, 24 ) \
+    SYSCALL_ENTRY( 0x119e, NtUserSetWindowsHookEx, 48 ) \
+    SYSCALL_ENTRY( 0x119f, NtUserShowCaret, 8 ) \
+    SYSCALL_ENTRY( 0x11a0, NtUserShowCursor, 8 ) \
+    SYSCALL_ENTRY( 0x11a1, NtUserShowScrollBar, 24 ) \
+    SYSCALL_ENTRY( 0x11a2, NtUserShowWindow, 16 ) \
+    SYSCALL_ENTRY( 0x11a3, NtUserShowWindowAsync, 16 ) \
+    SYSCALL_ENTRY( 0x11a4, NtUserSwitchDesktop, 8 ) \
+    SYSCALL_ENTRY( 0x11a5, NtUserSystemParametersInfo, 32 ) \
+    SYSCALL_ENTRY( 0x11a6, NtUserSystemParametersInfoForDpi, 40 ) \
+    SYSCALL_ENTRY( 0x11a7, NtUserThunkedMenuInfo, 16 ) \
+    SYSCALL_ENTRY( 0x11a8, NtUserThunkedMenuItemInfo, 48 ) \
+    SYSCALL_ENTRY( 0x11a9, NtUserToUnicodeEx, 56 ) \
+    SYSCALL_ENTRY( 0x11aa, NtUserTrackMouseEvent, 8 ) \
+    SYSCALL_ENTRY( 0x11ab, NtUserTrackPopupMenuEx, 48 ) \
+    SYSCALL_ENTRY( 0x11ac, NtUserTranslateAccelerator, 24 ) \
+    SYSCALL_ENTRY( 0x11ad, NtUserTranslateMessage, 16 ) \
+    SYSCALL_ENTRY( 0x11ae, NtUserUnhookWinEvent, 8 ) \
+    SYSCALL_ENTRY( 0x11af, NtUserUnhookWindowsHookEx, 8 ) \
+    SYSCALL_ENTRY( 0x11b0, NtUserUnregisterClass, 24 ) \
+    SYSCALL_ENTRY( 0x11b1, NtUserUnregisterHotKey, 16 ) \
+    SYSCALL_ENTRY( 0x11b2, NtUserUpdateInputContext, 24 ) \
+    SYSCALL_ENTRY( 0x11b3, NtUserUpdateLayeredWindow, 80 ) \
+    SYSCALL_ENTRY( 0x11b4, NtUserValidateRect, 16 ) \
+    SYSCALL_ENTRY( 0x11b5, NtUserVkKeyScanEx, 16 ) \
+    SYSCALL_ENTRY( 0x11b6, NtUserWaitForInputIdle, 24 ) \
+    SYSCALL_ENTRY( 0x11b7, NtUserWaitMessage, 0 ) \
+    SYSCALL_ENTRY( 0x11b8, NtUserWindowFromDC, 8 ) \
+    SYSCALL_ENTRY( 0x11b9, NtUserWindowFromPoint, 16 ) \
+    SYSCALL_ENTRY( 0x11ba, __wine_get_file_outline_text_metric, 32 ) \
+    SYSCALL_ENTRY( 0x11bb, __wine_get_icm_profile, 32 )
+
+#else
+#define ALL_SYSCALLS ALL_SYSCALLS32
+#endif
diff --git a/tools/make_specfiles b/tools/make_specfiles
index 34b35642a2b..650bec6cf1c 100755
--- a/tools/make_specfiles
+++ b/tools/make_specfiles
@@ -370,7 +370,11 @@ sub update_syscalls($$$)
     output_file( $file,
                  "/* Automatically generated by tools/make_specfiles */\n" .
                  "\n#define ALL_SYSCALLS32" . get_syscalls_str( $base, @{$syscalls32} ) .
-                 "\n#define ALL_SYSCALLS64" . get_syscalls_str( $base, @{$syscalls64} ));
+                 "\n#ifdef _WIN64" .
+                 "\n#define ALL_SYSCALLS" . get_syscalls_str( $base, @{$syscalls64} ) .
+                 "\n#else" .
+                 "\n#define ALL_SYSCALLS ALL_SYSCALLS32" .
+                 "\n#endif\n" );
 }
 
 sub sync_spec_files(@)
-- 
2.51.1

